<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>python on BLOG</title><link>https://wangloo.github.io/tags/python/</link><description>Recent content in python on BLOG</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Sun, 20 Aug 2023 17:59:22 +0800</lastBuildDate><atom:link href="https://wangloo.github.io/tags/python/index.xml" rel="self" type="application/rss+xml"/><item><title>C/python: cmp函数应该怎么写</title><link>https://wangloo.github.io/posts/codestyle/cmp-func/</link><pubDate>Sun, 20 Aug 2023 17:59:22 +0800</pubDate><guid>https://wangloo.github.io/posts/codestyle/cmp-func/</guid><description>C 中的qsort, python 中的sorted()很多时间需要自己构造比较的规则，也就是告诉排序函数怎么衡量两个值的大小关系？
TL;DR 升序的写法(C-qsort):
1int cmp(const void *a, const void *b) 2{ 3 return *(int *)a - *(int *)b; 4} 5 6int main(void) 7{ 8 int nums[] = {2, 1, 3, 5, 4}; 9 10 qsort(nums, 5, sizeof(int), cmp); 11 return 0; 12} 升序的写法(python-sorted()):
1from functools import cmp_to_key 2nums = [2, 3, 1, 4, 5] 3 4nums = sorted(nums, key=cmp_to_key(lambda x,y: x-y)) 5print(nums) python3 丢弃了sorted()中的cmp选项， 全部用 key 选项进行指定， 所以需要cmp_to_key进行转换</description></item></channel></rss>