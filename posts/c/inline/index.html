<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/syntax_pastie.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><title>C语言 "inline" 关键字</title></head><body><div id=app><div id=sideContainer class=side-container><div class=nav-link-list><div class="a-block nav-link-item"><a href=/posts>最近修改</a></div><div class="a-block nav-link-item"><a href=/categories>分类 Categories</a></div><div class="a-block nav-link-item"><a href=/tags>标签 Tags</a></div><div class="a-block nav-link-item"><a href=/index.xml>RSS Feed</a></div></div></div><div id=extraContainer class=extra-container><div class="a-block nav-link-item" href><div id=fastSearch><input id=searchInput placeholder="Press '/' to focus on me"><ul id=searchResults></ul></div></div><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#gnu89 aria-label=GNU89:>GNU89:</a></li><li><a href=#c99 aria-label=C99:>C99:</a></li><li><a href=#c aria-label=C++:>C++:</a></li></ul></div></details></div></div></div><script src=/js/fuse.js></script>
<script src=/js/fastsearch.js></script><main class=container><article><header><div class=post-title>C语言 "inline" 关键字</div></header><p>TODO: inline 的发展历程: <a href=https://gustedt.wordpress.com/2010/11/29/myth-and-reality-about-inline-in-c99/>Myth and reality about inline in C99 – Jens Gustedt&rsquo;s Blog (wordpress.com)</a></p><h2 id=gnu89>GNU89:</h2><p>函数的<strong>实现</strong>之前添加不同的关键字:</p><ul><li><p><code>inline</code>: 表明这个函数可能被优化. 如果没有被优化, 编译器就会视为一个常规函数的定义.</p></li><li><p><code>extern inline</code>: 表明这个函数可能被优化. 如果没有被优化, 编译器就将这个函数的定义<strong>转换为该函数的声明</strong>, 即 <code>extern inline func();</code> 因此当此函数被调用时, 可以调用一个外部的函数来替代. 如果没有函数调用它, 那么也可以没有外部的替代函数实现.</p></li><li><p><code>static inline</code>: 表明这个函数可能被优化. 如果没有被优化, 编译器就会视为一个<strong>常规静态函数</strong>.</p></li></ul><h2 id=c99>C99:</h2><p>函数的实现之前添加不同的关键字:</p><ul><li><code>inline</code>: 等效于gnu89中的<code>extern inline</code></li><li><code>extern inline</code>: 等效于gnu89中的<code>inline</code></li><li><code>static inline</code>: 与gnu89相同含义.</li></ul><h2 id=c>C++:</h2><p>只有<code>inline</code>一个关键字, 如果不能优化就定义为普通函数</p><blockquote><p>Ref:</p><p><a href=https://stackoverflow.com/questions/216510/what-does-extern-inline-do/216546#216546>c++ - What does extern inline do? - Stack Overflow</a></p><p><a href=https://gustedt.wordpress.com/2010/11/29/myth-and-reality-about-inline-in-c99/>Myth and reality about inline in C99 – Jens Gustedt&rsquo;s Blog (wordpress.com)</a></p></blockquote><blockquote><p><a href=https://github.com/wangloo/inline-c99-gnu89-demo>C demo</a> 关于以上的各种情况</p></blockquote></article></body><hr width=100% id=EOF><p style=color:#777>创建于: 2022-11-24T01:35:24, Lastmod: 2023-09-24T18:08:59</p><script src=/js/copy-to-clipboard.js></script></main></div></body></html>