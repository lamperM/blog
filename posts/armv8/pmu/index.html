<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><title>Cortex-A53 PMU介绍</title></head><body><div id=app><div id=sideContainer class=side-container><div class=nav-link-list><div class="a-block nav-link-item" href>BACK</div><div class="a-block nav-link-item"><a href=/posts>所有文章</a></div><div class="a-block nav-link-item"><a href=/tags>Tags</a></div><div class="a-block nav-link-item"><a href=/index.xml>RSS Feed</a></div></div></div><div id=extraContainer class=extra-container><div class="a-block nav-link-item" href><div id=fastSearch><input id=searchInput placeholder="Press '/' to focus on me"><ul id=searchResults></ul></div></div><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%85%b3%e4%ba%8epmu aria-label=关于PMU>关于PMU</a></li><li><a href=#pmu%e5%92%8cetm%e7%9a%84%e5%8c%ba%e5%88%ab aria-label=PMU和ETM的区别>PMU和ETM的区别</a><ul><li><a href=#1-%e8%ae%b0%e5%bd%95%e7%9a%84%e4%ba%8b%e4%bb%b6%e4%b8%8d%e5%90%8c aria-label="1. 记录的事件不同">1. 记录的事件不同</a></li><li><a href=#2-%e8%ae%b0%e5%bd%95%e7%9a%84%e7%b2%92%e5%ba%a6%e4%b8%8d%e5%90%8c aria-label="2. 记录的粒度不同">2. 记录的粒度不同</a></li></ul></li></ul></div></details></div></div></div><script src=/js/fuse.js></script>
<script src=/js/fastsearch.js></script><main class=container><article><header><div class=post-title>Cortex-A53 PMU介绍</div></header><h1 id=关于pmu>关于PMU</h1><p>PMU是一个独立的单元，不和体系结构绑定。而是每个SOC都可以不同。比如说Cortex-A53实现了PMUv3架构，但别的基于ARMv8架构的Soc可能实现PMUv4或者其他版本。</p><p>PMU内部有六个计数器，所以可以记录六个事件的发生次数。计数器的数值不一定绝对的正确，因为管道的存在，所以一般来说还是通过长时间计数来减弱影响。</p><h1 id=pmu和etm的区别>PMU和ETM的区别</h1><h2 id=1-记录的事件不同>1. 记录的事件不同</h2><ul><li>PMU：Cache Miss、分支预测失败、TLB Miss等</li><li>ETM：记录分支指令、内存屏障指令等所有指令的执行，包括地址、结果等。
另外还可以记录数据读写的地址、结果（可选）。</li></ul><h2 id=2-记录的粒度不同>2. 记录的粒度不同</h2><ul><li>PMU：仅用计数器来记录事件发生的次数</li><li>ETM：指令的类型、地址、执行结果等。数据访问也类似。</li></ul><p>所以说，ETM的信息量大，需要专门的缓存机制。而PMU只需在定时器结束时记录发生的次数就行，
不需要什么缓存，没有实际的数据流。</p></article></body><hr width=100% id=EOF><p style=color:#777>创建于: 2023-09-02T22:02:04, Lastmod: 2023-09-24T18:08:59</p></main></div></body></html>