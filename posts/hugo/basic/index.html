<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><title>使用 HuGo 搭建个人网站</title></head><body><div id=app><div id=sideContainer class=side-container><div class=nav-link-list><div class="a-block nav-link-item" href>BACK</div><div class="a-block nav-link-item"><a href=/posts>所有文章</a></div><div class="a-block nav-link-item"><a href=/tags>Tags</a></div><div class="a-block nav-link-item"><a href=/index.xml>RSS Feed</a></div><div class="a-block nav-link-item" href><div id=fastSearch><input id=searchInput><ul id=searchResults></ul></div></div><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#hugo-%e5%9f%ba%e7%a1%80%e5%ad%a6%e4%b9%a0 aria-label="HuGo 基础学习">HuGo 基础学习</a><ul><li><a href=#hugo-%e9%a1%b9%e7%9b%ae%e7%9b%ae%e5%bd%95%e7%bb%93%e6%9e%84 aria-label="Hugo 项目目录结构">Hugo 项目目录结构</a></li><li><a href=#hugo-cli-%e5%91%bd%e4%bb%a4 aria-label="Hugo CLI 命令">Hugo CLI 命令</a><ul><li><a href=#hugo-completion aria-label="Hugo completion">Hugo completion</a></li><li><a href=#hugo-config aria-label="hugo config">hugo config</a></li><li><a href=#hugo-env aria-label="hugo env">hugo env</a></li><li><a href=#hugo-list aria-label="hugo list">hugo list</a></li><li><a href=#hugo-new aria-label="hugo new">hugo new</a></li><li><a href=#hugo-server aria-label="hugo server">hugo server</a></li><li><a href=#hugo-flags aria-label="hugo [flags]">hugo [flags]</a></li></ul></li><li><a href=#hugo-%e5%86%85%e5%ae%b9%e7%ae%a1%e7%90%86 aria-label="Hugo 内容管理">Hugo 内容管理</a><ul><li><a href=#%e9%a1%b5%e9%9d%a2%e8%b5%84%e6%ba%90page-resources aria-label="页面资源(Page Resources)">页面资源(Page Resources)</a></li><li><a href=#%e5%86%85%e5%ae%b9%e5%88%86%e7%b1%bbtaxonomy aria-label=内容分类(Taxonomy)>内容分类(Taxonomy)</a></li><li><a href=#%e4%bb%a3%e7%a0%81%e9%ab%98%e4%ba%aesyntax-highlighter aria-label="代码高亮(Syntax Highlighter)">代码高亮(Syntax Highlighter)</a></li><li><a href=#%e9%a1%b5%e9%9d%a2%e5%88%86%e7%b1%bb aria-label=页面分类>页面分类</a></li><li><a href=#shortcodes aria-label=shortcodes>shortcodes</a></li></ul></li><li><a href=#%e6%a8%a1%e6%9d%bftemplate aria-label=模板(Template)>模板(Template)</a><ul><li><a href=#homepage-%e6%a8%a1%e6%9d%bf aria-label="homepage 模板">homepage 模板</a></li><li><a href=#base-%e6%a8%a1%e6%9d%bf aria-label="Base 模板">Base 模板</a></li><li><a href=#partial-%e6%a8%a1%e6%9d%bf aria-label="partial 模板">partial 模板</a></li><li><a href=#%e6%a8%a1%e6%9d%bf%e4%bc%98%e5%85%88%e7%ba%a7 aria-label=模板优先级>模板优先级</a></li></ul></li><li><a href=#%e5%8f%98%e9%87%8fvariables aria-label=变量(Variables)>变量(Variables)</a><ul><li><a href=#page-variables aria-label="Page Variables">Page Variables</a></li><li><a href=#site-variables aria-label="Site Variables">Site Variables</a></li></ul></li><li><a href=#%e5%87%bd%e6%95%b0functions aria-label=函数(Functions)>函数(Functions)</a></li><li><a href=#hugo-pipes aria-label="Hugo pipes">Hugo pipes</a></li></ul></li><li><a href=#diy-my-own-website aria-label="DIY My Own Website">DIY My Own Website</a><ul><li><a href=#%e6%94%af%e6%8c%81-emoji aria-label="支持 Emoji">支持 Emoji</a></li><li><a href=#todo-list aria-label="TODO List">TODO List</a></li></ul></li></ul></div></details></div></div></div></div><script src=/js/fuse.js></script>
<script src=/js/fastsearch.js></script><main class=container><article><header><div class=post-title>使用 HuGo 搭建个人网站</div></header><h1 id=hugo-基础学习>HuGo 基础学习</h1><p>本章将解答Hugo是什么, 以及Hugo是如何工作的. 只有了解Hugo的工作机制之后, 才能发挥想象力进行DIY.</p><p>本章内容大多来自<a href=https://gohugo.io/documentation/>官方手册</a>或者搜索引擎提供的结果.</p><h2 id=hugo-项目目录结构>Hugo 项目目录结构</h2><p>一个hugo 项目通常包含以下内容:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>.
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>├── archetypes
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>├── config.toml
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>├── content
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>├── data
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>├── layouts
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span>├── public
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span>├── static
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">9</span><span>└── themes
</span></span></code></pre></div><p>这里面有些是必须的, 有些是可选的.</p><p><strong>archetypes</strong></p><p>定义新创建post时, header的格式.</p><p><strong>asserts</strong></p><blockquote><p>Note: assets directory is not created by default.</p></blockquote><p><strong>config</strong></p><p>Hugo uses the <code>config.toml</code>, <code>config.yaml</code>, or <code>config.json</code> (if found in the site root) as the default site config file.</p><p>The user can choose to override that default with one or more site config files using the command-line <code>--config</code> switch.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>hugo --config debugconfig.toml
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>hugo --config a.toml,b.toml,c.toml
</span></span></code></pre></div><blockquote><p>Note: config directory is not created by default.</p></blockquote><p><strong>content</strong></p><p>显然, 存储所有的post.</p><p><strong>data</strong></p><p>This directory is used to store configuration files that can be used by Hugo when generating your website.</p><p>像是你 website 的一个mini 数据库, 你可以放置 toml, yaml, json格式的文件.</p><p><strong>layouts</strong></p><p>Stores templates in the form of <code>.html</code> files that specify how views of your content will be rendered into a static website. Templates include <a href=https://gohugo.io/templates/list/>list pages</a>, your <a href=https://gohugo.io/templates/homepage/>homepage</a>, <a href=https://gohugo.io/templates/taxonomy-templates/>taxonomy templates</a>, <a href=https://gohugo.io/templates/partials/>partials</a>, <a href=https://gohugo.io/templates/single-page-templates/>single page templates</a>, and more.</p><p><strong>public</strong></p><p>保存build生成的站点. 当运行<code>hugo [flag]</code>时生成.</p><p>拷贝该目录下的内容, 可以部署到web 服务器上了.</p><p><strong>static</strong></p><p>Stores all the static content: images, CSS, JavaScript, etc. 当Hugo构建您的站点时，静态目录中的所有资源都会按原样复制。</p><p>即当构建website时, <code>static/</code>下的所有文件都会复制到 <code>public/</code>下.</p><p>The static files are served on the site root path (eg. if you have the file <code>static/image.png</code> you can access it using <code>http://{server-url}/image.png</code>, to include it in a document you can use <code>![Example image](/image.png) )</code>.</p><p><strong>resources</strong></p><p>一些缓存文件</p><blockquote><p>Note: resources directory is not created by default.</p></blockquote><h2 id=hugo-cli-命令>Hugo CLI 命令</h2><p>hugo 支持的所有命令可以通过 <code>hugo help</code> 命令来查看. 每一条命令的具体用法, 可以执行 <code>hugo [command] help</code> 来查看</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>Usage:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>  hugo [flags]
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>  hugo [command]
</span></span></code></pre></div><h3 id=hugo-completion>Hugo completion</h3><p>用来配置补全 hugo command 和 flag 的. 该命令会输出一段脚本, 将该脚本复制到你的 shell 的配置文件中就可以使用 hugo tab 补全了.</p><h3 id=hugo-config>hugo config</h3><p>打印hugo的配置文件, 即根目录下的 <code>config.toml</code>.</p><h3 id=hugo-env>hugo env</h3><p>打印 hugo 的版本和环境信息</p><h3 id=hugo-list>hugo list</h3><p>打印所有post的info, 包含标题, 发布日志, 链接等.</p><h3 id=hugo-new>hugo new</h3><p>非常重要的命令, 可以用来新建一个 website, 主题, 或者一篇post(常用). 带有许多 flag可以使用.</p><h3 id=hugo-server>hugo server</h3><p>执行<code>hugo server</code>之后, 首先构建了你的网站(但是默认并不在本地创建文件, 而是放在内存), 然后启动hugo 自带的 web服务器让我们能看见网站的效果.</p><p>同时, 默认情况下, server 会同步你的本地更改, 然后实时的reload你的页面. 这样你就能同时看到修改的效果.</p><p>hugo server 的常用flag:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>-D              包含标记为草稿的post. 默认不构建草稿.
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>--theme strings 使用[strings]主题进行构建
</span></span></code></pre></div><h3 id=hugo-flags>hugo [flags]</h3><p><code>hugo</code> 自身就是一个命令, 用于build website, 放到 <code>public/</code>目录下.</p><p>常用 Flag(<a href="https://gohugo.io/getting-started/usage/#test-installation:~:text=The%20output%20you%20see%20in%20your%20console%20should%20be%20similar%20to%20the%20following%3A">All supported flags</a>):</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>--gc                         在build后会清除一些cache文件. 与 resource/有关
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>--minify                     minify any supported output format (HTML, XML etc.)
</span></span></code></pre></div><blockquote><p><code>hugo</code> 命令不会删除之前的文件. 而是仅新增改动. 所以每次build时需要你手动删除 <code>public/</code> 目录.</p></blockquote><h2 id=hugo-内容管理>Hugo 内容管理</h2><p>hugo build 后的website页面的布局和你源文件的布局相同, 所有源文件都放置在 <code>content/</code> 目录下.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>└── content
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    ├── _index.md   // &lt;- https://example.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>    |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>    ├── about
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>    |   └── index.md  // &lt;- https://example.com/about/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    ├── posts
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>    |   ├── _index.md     // https://example.com/posts/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>    |   ├── firstpost.md   // &lt;- https://example.com/posts/firstpost/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>    |   ├── happy
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>    |   |   └── ness.md  // &lt;- https://example.com/posts/happy/ness/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>    |   └── secondpost.md  // &lt;- https://example.com/posts/secondpost/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>    └── quote
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>        ├── first.md       // &lt;- https://example.com/quote/first/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>        └── second.md      // &lt;- https://example.com/quote/second/
</span></span></code></pre></div><blockquote><p>hugo 将content/ 下的那级目录(例如 content/posts)特殊看待, 称为 <em>section</em>.</p></blockquote><h3 id=页面资源page-resources>页面资源(Page Resources)</h3><p>页面资源指每个页面<strong>私有的</strong>图片, 文档等静态资源. 与<code>static/</code> 中全局的资源不同.</p><p>页面资源放在<code>content/</code>下的任意位置, 但不是所有页面都能访问. page bundles 中的<code>index.md</code> or <code>_index.md</code> 能够访问该 bundles 下的资源.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>content
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>└── post
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>    ├── first-post
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>    │   ├── images
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>    │   │   ├── a.jpg
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    │   │   ├── b.jpg
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>    │   │   └── c.jpg
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>    │   ├── index.md (root of page bundle, 能够访问first-post/下的所有资源)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>    │   ├── notice.md  不能访问任何资源, 但其自身作为一个资源可被index.md访问
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>    │   ├── office.mp3
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>    │   ├── pocket.mp4
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>    │   ├── rating.pdf
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>    │   └── safety.txt
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>    └── second-post
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>        └── index.md (root of page bundle, 但不能访问first-post/下的资源)
</span></span></code></pre></div><h3 id=内容分类taxonomy>内容分类(Taxonomy)</h3><p>Taxonomy: How to group the content together. Two default taxonomies are <em>tags</em> and <em>categories</em>.</p><h3 id=代码高亮syntax-highlighter>代码高亮(Syntax Highlighter)</h3><p><a href="https://gohugo.io/getting-started/configuration-markup/#configure-markup:~:text=anchorize%20template%20func.-,Highlight,-This%20is%20the">代码高亮的配置</a>(in <code>config.toml</code>):</p><h3 id=页面分类>页面分类</h3><p>从布局上来看, 页面可以分为两类: List page 和 single page.</p><p>显而易见, list page比较特殊, 它负责列出当前目录下的所有post. 所以一个目录地址必然是一个list page.</p><p>在下面的例子中, <code>https://example.com</code> , <code>https://example.com/posts/happy/</code> 都可以叫做 list page.</p><ul><li><p><code>https://example.com/posts/happy/</code> 是list page, 目录下的<code>_index.md</code> 不是必须的, hugo 会默认仅显示所有post的title. <a href=https://gohugo.io/templates/lists/#list-pages-without-_indexmd>详见</a></p></li><li><p><code>https://example.com/about/</code> 不是list page, 因为其目录下有<code>index.md</code>, 强制表明这是一个 single page. <a href="https://gohugo.io/content-management/page-bundles/#:~:text=CONTENT%20MANAGEMENT-,Page%20Bundles,-Content%20organization%20using">详见</a></p></li></ul><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>└── content
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    ├── _index.md   // &lt;- https://example.com
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>    |
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>    ├── about
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>    |   └── index.md  // &lt;- https://example.com/about/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    └── posts
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>        ├── _index.md     // https://example.com/posts/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>        ├── firstpost.md   // &lt;- https://example.com/posts/firstpost/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>        ├── happy
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>        |   └── ness.md  // &lt;- https://example.com/posts/happy/ness/
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>        └── secondpost.md  // &lt;- https://example.com/posts/secondpost/
</span></span></code></pre></div><blockquote><p>Homepage 和 section page 都属于特殊的 list page.</p><ul><li>homepage 特指 <code>content/_index.md</code></li><li>section page 特指 <code>content/[section]/_index.md</code></li></ul></blockquote><h3 id=shortcodes>shortcodes</h3><p>shortcode 可以理解为 hugo 为了封装了一些代码块, 通过 shortcode 来调用.</p><h2 id=模板template>模板(Template)</h2><p>模板是hugo的一个高级用法, 用来定义你网站的style. 模板不等同与主题(themes), 可以理解为主题是一套模板的集合. 我们可以在使用模板的同时添加DIY的 style. 😎 Hugo 会有优先级的判断.</p><p>不同的页面类型需要定义不同的模板. List page 的模板称为 List template, single page 的模板称为 single template. 同理还有 homepage template, section template.</p><p>存储模板的目录为<code>layout/</code>, 上面介绍hugo的目录结构时已经说过. 如果你使用了一个 theme, 那么<code>themes/[your-theme]/layout/</code>就是该theme的模板.</p><h3 id=homepage-模板>homepage 模板</h3><h3 id=base-模板>Base 模板</h3><p>对应<code>layouts/_default/baseof.html</code></p><p>base 模板是整个website的核心. 所有的模板包括 list template, single template, homepage template&mldr; 都是独立的, base template 将其他的模板联系到一起.</p><h3 id=partial-模板>partial 模板</h3><p>包含网站的许多元素, 增加模块化. 我可以为网站的 header 或者 footer 写一个模板(html), 这些HTML可以嵌入其他的模板.</p><h3 id=模板优先级>模板优先级</h3><p>既然同一种页面的模板可以定义在多个位置, 如果他们同时存在时, 优先级规则必然存在. 常见的情况比如我们使用了某个模板, 然而, 我们对模板中的一些布局不满意, 直接修改模板中的文件显然不是一个好方法, 那么该怎么做呢?</p><p><strong>一般来说</strong>, 如果你只想重写theme中的某个模板, 例如section template. 那么你只需要新建 <code>layout/_default/section.html</code> 即可, hugo 构建你的网站时, 如果检测到本地和theme的<code>layout/_default</code>下都有 <code>section.html</code>, 它会使用我们自己定义的那个.</p><blockquote><p>完整的, 多级的优先级规则: <a href=https://gohugo.io/templates/lookup-order/>Hugo&rsquo;s Lookup Order | Hugo (gohugo.io)</a></p></blockquote><h2 id=变量variables>变量(Variables)</h2><p>❗ Hugo 变量仅设计给模板使用, 即在<code>layouts/</code>下的html文件.</p><h3 id=page-variables>Page Variables</h3><p>与post相关的变量, 定义在post 的 front matter中.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>// Define Page variables in front matter of post
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>----------------
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>title: &#34;使用 HuGo 搭建个人网站&#34;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>description: 学习正确的 Hugo 食用方式, DIY 属于自己的 website~
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>Myvar: &#34;my value&#34;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>----------------
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>// Use Page Variables
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>{{.Description}}   // Get the description of the post
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>{{.Params.Myvar}}  // Get the value of Myvar, that is, &#34;my value&#34;
</span></span></code></pre></div><h3 id=site-variables>Site Variables</h3><p>站点层面的变量大部分是网站配置相关.</p><h2 id=函数functions>函数(Functions)</h2><p>函数是hugo为你封装的一些方法你可以直接调用.</p><p>❗ Hugo 函数仅设计给模板使用, 即在<code>layouts/</code>下的html文件. Same as variables.</p><h2 id=hugo-pipes>Hugo pipes</h2><h1 id=diy-my-own-website>DIY My Own Website</h1><h2 id=支持-emoji>支持 Emoji</h2><p><a href=https://stackoverflow.com/questions/41047920/adding-emoji-to-a-hugo-page-variable>Adding emoji tutorial</a></p><p><a href=https://www.webfx.com/tools/emoji-cheat-sheet/>Emoji chart</a></p><h2 id=todo-list>TODO List</h2><ol><li>深色和浅色模式使用 不同的代码高亮 格式</li><li>Post section page 添加简介</li><li>Single template 调整 Header&rsquo;s margin</li></ol></article></body><hr width=100% id=EOF><p style=color:#777>创建于: 2022-05-21T17:39:42, Lastmod: 2023-09-02T23:23:33</p></main></div></body></html>