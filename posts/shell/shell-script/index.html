<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/syntax_pastie.css><link rel=stylesheet href=https://gcore.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.1.0/style.css><title>Shellscript</title></head><body><div id=app><div id=sideContainer class=side-container><div class=nav-link-list><div class="a-block nav-link-item" href>BACK</div><div class="a-block nav-link-item"><a href=/posts>最近修改</a></div><div class="a-block nav-link-item"><a href=/categories>分类 Categories</a></div><div class="a-block nav-link-item"><a href=/tags>标签 Tags</a></div><div class="a-block nav-link-item"><a href=/index.xml>RSS Feed</a></div></div></div><div id=extraContainer class=extra-container><div class="a-block nav-link-item" href><div id=fastSearch><input id=searchInput placeholder="Press '/' to focus on me"><ul id=searchResults></ul></div></div><div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }"><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%8f%98%e9%87%8f%e7%9a%84%e5%ae%9a%e4%b9%89%e5%92%8c%e5%bc%95%e7%94%a8 aria-label=变量的定义和引用>变量的定义和引用</a></li><li><a href=#%e5%b8%b8%e7%94%a8shell%e5%91%bd%e4%bb%a4%e7%9a%84%e6%b3%a8%e6%84%8f%e4%ba%8b%e9%a1%b9 aria-label=常用Shell命令的注意事项>常用Shell命令的注意事项</a><ul><li><a href=#echo%e7%9a%84%e5%8f%82%e6%95%b0 aria-label=echo的参数>echo的参数</a></li><li><a href=#sort-%e5%ba%94%e4%bb%98%e5%a4%9a%e7%a7%8d%e5%9c%ba%e6%99%af aria-label="sort 应付多种场景">sort 应付多种场景</a></li><li><a href=#shift-%e6%93%8d%e4%bd%9c%e5%8f%82%e6%95%b0 aria-label="shift 操作参数">shift 操作参数</a></li></ul></li><li><a href=#shellscript%e7%9a%84%e7%bc%96%e5%86%99%e6%8a%80%e5%b7%a7 aria-label=Shellscript的编写技巧>Shellscript的编写技巧</a></li><li><a href=#%e5%ae%9e%e6%88%98%e5%ad%a6%e4%b9%a0%e8%87%aa%e5%8a%a8%e6%9b%b4%e6%96%b0git%e4%bb%93%e5%ba%93 aria-label=实战学习：自动更新Git仓库>实战学习：自动更新Git仓库</a></li><li><a href=#%e7%bb%9f%e8%ae%a1%e4%bb%a3%e7%a0%81%e9%87%8f aria-label=统计代码量>统计代码量</a></li><li><a href=#%e5%88%a0%e9%99%a4%e7%9b%ae%e5%bd%95%e4%b8%8b%e6%89%80%e6%9c%89%e7%9a%84%e5%8f%af%e6%89%a7%e8%a1%8c%e6%96%87%e4%bb%b6 aria-label=删除目录下所有的可执行文件>删除目录下所有的可执行文件</a></li><li><a href=#%e5%88%a4%e6%96%ad%e6%89%a7%e8%a1%8c%e8%84%9a%e6%9c%ac%e6%97%b6%e5%b8%a6%e7%9a%84%e5%8f%82%e6%95%b0 aria-label=判断执行脚本时带的参数>判断执行脚本时带的参数</a></li><li><a href=#%e8%87%aa%e5%8a%a8%e6%8b%b7%e8%b4%9d%e6%96%87%e4%bb%b6%e5%88%b0-sd-card aria-label="自动拷贝文件到 SD Card">自动拷贝文件到 SD Card</a></li><li><a href=#%e8%8e%b7%e5%8f%96%e6%89%80%e6%9c%89%e6%96%87%e4%bb%b6%e4%bf%a1%e6%81%af%e5%8f%af%e9%80%92%e5%bd%92%e8%bf%9b%e5%85%a5%e5%ad%90%e7%9b%ae%e5%bd%95 aria-label=获取所有文件信息(可递归进入子目录)>获取所有文件信息(可递归进入子目录)</a></li><li><a href=#%e5%b8%a6%e9%a2%9c%e8%89%b2%e7%9a%84%e8%be%93%e5%87%ba aria-label=带颜色的输出>带颜色的输出</a></li></ul></div></details></div></div></div><script src=/js/fuse.js></script>
<script src=/js/fastsearch.js></script><main class=container><article><header><div class=post-title>Shellscript</div></header><blockquote><p>ℹ️ 如未特殊说明，以下的命令在bash和zsh中都能正确生效。</p></blockquote><h2 id=变量的定义和引用>变量的定义和引用</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 何时变量赋值要加&#34;&#34;?</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; 包含分隔符，空格或tab时</span>
</span></span><span class=line><span class=cl><span class=nv>qemu_opt</span><span class=o>=</span><span class=s2>&#34;-machine raspi3b&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 引用变量时为什么加{}? ${var}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 引用变量时为什么加&#34;&#34;? &#34;$var&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 变量赋值为什么$()?</span>
</span></span><span class=line><span class=cl><span class=c1># =&gt; ()里面是shell命令时用</span>
</span></span><span class=line><span class=cl><span class=nv>qemu_ver</span><span class=o>=</span><span class=k>$(</span><span class=nv>$qemu</span> --version <span class=p>|</span> head -n 1<span class=k>)</span> 
</span></span></code></pre></div><h2 id=常用shell命令的注意事项>常用Shell命令的注意事项</h2><h3 id=echo的参数>echo的参数</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># echo不自动换行</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -n <span class=s2>&#34;some-string&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># echo转义特殊字符</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span>    <span class=s2>&#34;some-string\n&#34;</span> <span class=c1># 不转义\</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;some-string\n&#34;</span> <span class=c1># 正确转义换行</span>
</span></span></code></pre></div><blockquote><p>Zsh中，echo默认带<code>-e</code>，bash中则不是。
所以说，<strong>如果输出的字符串有转义字符，不管要不要转义，都显式指定一下</strong>。</p><ul><li><code>-e</code> 强制转义</li><li><code>-E</code> 强制不转义</li></ul></blockquote><h3 id=sort-应付多种场景>sort 应付多种场景</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 对版本号进行排序(x.y.z)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -ne <span class=s2>&#34;1.2.3\n4.5.6\n3.4.5&#34;</span> <span class=p>|</span> sort -V
</span></span></code></pre></div><h3 id=shift-操作参数>shift 操作参数</h3><p><code>shift</code>命令将参数左移，应用场景:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># 场景1：提取第二个参数及后面的所有</span>
</span></span><span class=line><span class=cl><span class=c1># ./shell qemu-system-aarch64 -machine raspi3b -smp</span>
</span></span><span class=line><span class=cl><span class=nv>qemu</span><span class=o>=</span><span class=nv>$1</span>
</span></span><span class=line><span class=cl><span class=nb>shift</span>  <span class=c1># 默认左移1</span>
</span></span><span class=line><span class=cl><span class=nv>qemu_opt</span><span class=o>=</span><span class=nv>$@</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>## 场景2: 处理多参数且位置不定的情况</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$#</span><span class=s2>&#34;</span> -gt <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=k>case</span> <span class=s2>&#34;</span><span class=nv>$1</span><span class=s2>&#34;</span> in
</span></span><span class=line><span class=cl>    -f<span class=p>|</span>--file<span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=nv>file</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nb>shift</span> <span class=m>2</span>
</span></span><span class=line><span class=cl>      <span class=p>;;</span>
</span></span><span class=line><span class=cl>    -d<span class=p>|</span>--directory<span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=nv>directory</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nb>shift</span> <span class=m>2</span>
</span></span><span class=line><span class=cl>      <span class=p>;;</span>
</span></span><span class=line><span class=cl>    -m<span class=p>|</span>--mode<span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=nv>mode</span><span class=o>=</span><span class=s2>&#34;</span><span class=nv>$2</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nb>shift</span> <span class=m>2</span>
</span></span><span class=line><span class=cl>      <span class=p>;;</span>
</span></span><span class=line><span class=cl>    *<span class=o>)</span>
</span></span><span class=line><span class=cl>      <span class=nb>echo</span> <span class=s2>&#34;Unknown option: </span><span class=nv>$1</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>      <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl>      <span class=p>;;</span>
</span></span><span class=line><span class=cl>  <span class=k>esac</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></div><h2 id=shellscript的编写技巧>Shellscript的编写技巧</h2><ol><li>Bash脚本正式语句开始前加 <code>set -e</code>, 使得任何命令返回非0时立即退出整个Shell脚本。</li><li>规定分隔符。<strong>默认Shell会采用空格、tab、换行都作为分隔符</strong>，
有时需要屏蔽某些，仅使用空格<div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>export</span> <span class=nv>IFS</span><span class=o>=</span><span class=s1>&#39; &#39;</span> <span class=c1># 启用空格分隔only</span>
</span></span><span class=line><span class=cl><span class=nv>flag</span><span class=o>=</span><span class=s2>&#34;false&#34;</span>
</span></span><span class=line><span class=cl><span class=k>for</span> str in <span class=nv>$qemu_ver</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=c1># do something</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl><span class=nb>unset</span> IFS  <span class=c1># 恢复默认</span>
</span></span></code></pre></div></li></ol><h2 id=实战学习自动更新git仓库>实战学习：自动更新Git仓库</h2><p>来源：南京大学ICS PA <a href=https://github.com/NJU-ProjectN/ics-pa-gitbook/blob/master/update.sh>ics-pa-gitbook/update.sh</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/sh
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl>git fetch origin master
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Trick 1: 1:-&#39;@{u}&#39; ==&gt;  1代表参数传入，如果为空就 当前分支所跟踪的远程分支(&#39;@{u}&#39;)</span>
</span></span><span class=line><span class=cl><span class=nv>UPSTREAM</span><span class=o>=</span><span class=si>${</span><span class=nv>1</span><span class=k>:-</span><span class=s1>&#39;@{u}&#39;</span><span class=si>}</span> . 
</span></span><span class=line><span class=cl><span class=c1># Trick 2: @ ==&gt; 当前分支</span>
</span></span><span class=line><span class=cl><span class=c1># Trick 3: git rev-pase ==&gt; 列出某个分支最新的commit ID</span>
</span></span><span class=line><span class=cl><span class=nv>LOCAL</span><span class=o>=</span><span class=k>$(</span>git rev-parse @<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=nv>REMOTE</span><span class=o>=</span><span class=k>$(</span>git rev-parse <span class=s2>&#34;</span><span class=nv>$UPSTREAM</span><span class=s2>&#34;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$LOCAL</span> <span class=o>=</span> <span class=nv>$REMOTE</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Already up to date.&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>exit</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>git reset --hard origin/master
</span></span><span class=line><span class=cl>git gc
</span></span></code></pre></div><h2 id=统计代码量>统计代码量</h2><p>列出<em>所有的文件及其代码行数</em>, 只统计.c 和.h, 过滤<code>./scripts</code>目录.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>find -name <span class=s1>&#39;*.[c|h]&#39;</span> ! -path <span class=s1>&#39;./scripts/*&#39;</span> <span class=p>|</span> xargs  wc -l
</span></span></code></pre></div><p>+将内容按照代码行数降序排列</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>find -name <span class=s1>&#39;*.[c|h]&#39;</span> ! -path <span class=s1>&#39;./scripts/*&#39;</span> <span class=p>|</span> xargs  wc -l <span class=p>|</span> sort -rn
</span></span></code></pre></div><p>若仅列出<em>总的代码行数</em>, 去除<strong>空行</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=o>(</span>find ./ -name <span class=s1>&#39;*.[c|h]&#39;</span> -print0 <span class=p>|</span> xargs -0 cat<span class=o>)</span> <span class=p>|</span> sed <span class=s1>&#39;/^\s*$/d&#39;</span> <span class=p>|</span> wc -l
</span></span></code></pre></div><h2 id=删除目录下所有的可执行文件>删除目录下所有的可执行文件</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>find . -maxdepth <span class=m>1</span> -executable -type f <span class=p>|</span> xargs rm
</span></span></code></pre></div><h2 id=判断执行脚本时带的参数>判断执行脚本时带的参数</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$#</span> -ne <span class=m>1</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;ONE parameter is needed&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> -1
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$1</span> <span class=o>==</span> <span class=s1>&#39;build&#39;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=c1># do something</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[</span> <span class=nv>$1</span> <span class=o>==</span> <span class=s1>&#39;run&#39;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=c1># do something</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=o>[</span> <span class=nv>$1</span> <span class=o>==</span> <span class=s1>&#39;gdb&#39;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=c1># do something</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Not supported command&#34;</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span></code></pre></div><h2 id=自动拷贝文件到-sd-card>自动拷贝文件到 SD Card</h2><blockquote><p>TODO</p><ol><li>添加进度条</li></ol></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=nv>sd_path</span><span class=o>=</span><span class=k>$(</span>find /media/<span class=nv>$USER</span> -maxdepth <span class=m>1</span> -type d -name <span class=s2>&#34;*-*&#34;</span><span class=k>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=o>[</span> ! -d <span class=s2>&#34;</span><span class=si>${</span><span class=nv>sd_path</span><span class=si>}</span><span class=s2>&#34;</span> <span class=o>]</span>
</span></span><span class=line><span class=cl><span class=k>do</span>
</span></span><span class=line><span class=cl>    sleep <span class=m>1</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;waiting for inserting SD-Card&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;SD-Card is inserted&#34;</span>
</span></span><span class=line><span class=cl>cp ./output/kernel/kernel.bin  <span class=si>${</span><span class=nv>sd_path</span><span class=si>}</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Copy completely&#34;</span>
</span></span></code></pre></div><h2 id=获取所有文件信息可递归进入子目录>获取所有文件信息(可递归进入子目录)</h2><p>获取<code>dir</code>路径下的所有文件的信息, 这里获取的是文件的<strong>完整路径</strong>.</p><blockquote><p>TODO</p><ol><li>操作数组下标的方式可能有待改进? <code>filenum</code>感觉没必要, 暂时还不会改</li><li>通过拼接获得文件信息(路径)的方式也有点怪异</li></ol></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=nv>dir</span><span class=o>=</span>./
</span></span><span class=line><span class=cl><span class=nv>files</span><span class=o>=()</span>
</span></span><span class=line><span class=cl><span class=nv>filenum</span><span class=o>=</span><span class=m>0</span>
</span></span><span class=line><span class=cl><span class=k>function</span> getfiles<span class=o>()</span>
</span></span><span class=line><span class=cl><span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> file in <span class=sb>`</span>ls <span class=nv>$dir</span><span class=sb>`</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>do</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=o>[</span> -d <span class=nv>$file</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>            <span class=nb>cd</span> <span class=nv>$file</span>
</span></span><span class=line><span class=cl>            getfiles
</span></span><span class=line><span class=cl>            <span class=nb>cd</span> ..
</span></span><span class=line><span class=cl>        <span class=k>else</span>
</span></span><span class=line><span class=cl>            files<span class=o>[</span><span class=nv>$filenum</span><span class=o>]=</span><span class=k>$(</span><span class=nb>pwd</span> <span class=nv>$file</span><span class=k>)</span>/<span class=k>$(</span>basename <span class=nv>$file</span><span class=k>)</span>
</span></span><span class=line><span class=cl>            <span class=c1># echo file=$(pwd $file)/$(basename $file)</span>
</span></span><span class=line><span class=cl>            <span class=nb>let</span> filenum++
</span></span><span class=line><span class=cl>        <span class=k>fi</span>
</span></span><span class=line><span class=cl>    <span class=k>done</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=带颜色的输出>带颜色的输出</h2><p>使用<a href=https://en.wikipedia.org/wiki/ANSI_escape_code>ANSI escape code</a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Black        0;30     Dark Gray     1;30
</span></span><span class=line><span class=cl>Red          0;31     Light Red     1;31
</span></span><span class=line><span class=cl>Green        0;32     Light Green   1;32
</span></span><span class=line><span class=cl>Brown/Orange 0;33     Yellow        1;33
</span></span><span class=line><span class=cl>Blue         0;34     Light Blue    1;34
</span></span><span class=line><span class=cl>Purple       0;35     Light Purple  1;35
</span></span><span class=line><span class=cl>Cyan         0;36     Light Cyan    1;36
</span></span><span class=line><span class=cl>Light Gray   0;37     White         1;37
</span></span></code></pre></div><p>Code example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=nv>RED</span><span class=o>=</span><span class=s1>&#39;\033[0;31m&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>GREEN</span><span class=o>=</span><span class=s1>&#39;\033[0;32m&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>YELLOW</span><span class=o>=</span><span class=s1>&#39;\033[1;33m&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>BLUE</span><span class=o>=</span><span class=s1>&#39;\033[0;34m&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>CYAN</span><span class=o>=</span><span class=s1>&#39;\033[0;36m&#39;</span>
</span></span><span class=line><span class=cl><span class=nv>NC</span><span class=o>=</span><span class=s1>&#39;\033[0m&#39;</span> <span class=c1># No Color</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>YELLOW</span><span class=si>}</span><span class=s2>HELLO, YELLOW</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>GREEN</span><span class=si>}</span><span class=s2>HELLO, GREEN</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>RED</span><span class=si>}</span><span class=s2>HELLO, RED</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>BLUE</span><span class=si>}</span><span class=s2>HELLO, BLUE</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>CYAN</span><span class=si>}</span><span class=s2>HELLO, CYAN</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#########################################################</span>
</span></span><span class=line><span class=cl><span class=c1># generic functions #####################################</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> ERROR<span class=o>(){</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>RED</span><span class=si>}</span><span class=s2>[error] </span><span class=nv>$*</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> INFO <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>BLUE</span><span class=si>}</span><span class=s2>[info] </span><span class=nv>$*</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> WARN <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>YELLOW</span><span class=si>}</span><span class=s2>[warn] </span><span class=nv>$*</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> LOG <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> -e <span class=s2>&#34;</span><span class=si>${</span><span class=nv>GREEN</span><span class=si>}</span><span class=s2>[log] </span><span class=nv>$*</span><span class=si>${</span><span class=nv>NC</span><span class=si>}</span><span class=s2>&#34;</span> &gt;&gt; <span class=nv>$LOG</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>INFO <span class=s2>&#34;This is an infomation&#34;</span>
</span></span><span class=line><span class=cl>WARN  <span class=s2>&#34;This is a log&#34;</span>
</span></span></code></pre></div></article></body><hr width=100% id=EOF><p style=color:#777>创建于: 2022-07-20T11:54:13, Lastmod: 2024-04-17T23:52:53</p><script src=/js/copy-to-clipboard.js></script></main></div></body></html>